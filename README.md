# KohoApiHelper

API Helper for Koho Sales ERP (http://www.kohosales.com/)

## Basic usage / Examples

### Importing into NodeJS project 

```javascript
const KohoApiHelper = require('koho-api-helper');

const kohoApiHelperOptions = {
  token : 'KOHO_API_TOKEN', // Token from Company Koho settings
  companyId : 1234, // Company ID in Koho
}

const helper = new KohoApiHelper(kohoApiHelperOptions);
```

### Gettings all customers

```javascript
const customers = await helper.customers.getAll();
```

### Create new customer
```javascript
const customer = await helper.customers.create({
  name : 'Example Customer Oy',
  description : 'Customer generated by Koho Api Helper',
  organization_id : '1234567-8'
});
```

### Updating customer properties
```javascript
const customer = await helper.customers.getById(1234);

await customer.update({
  website : 'https://www.github.com'
});
```

# API Documentation

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [KohoApiHelper](#kohoapihelper)
    -   [Parameters](#parameters)
    -   [customers.getAll](#customersgetall)
    -   [customers.getById](#customersgetbyid)
        -   [Parameters](#parameters-1)
    -   [customers.update](#customersupdate)
        -   [Parameters](#parameters-2)
    -   [customers.create](#customerscreate)
        -   [Parameters](#parameters-3)
    -   [projects.getAll](#projectsgetall)
    -   [projects.getById](#projectsgetbyid)
        -   [Parameters](#parameters-4)
    -   [projects.update](#projectsupdate)
        -   [Parameters](#parameters-5)
    -   [projects.create](#projectscreate)
        -   [Parameters](#parameters-6)
-   [KohoApiHelperOptions](#kohoapihelperoptions)
    -   [Properties](#properties)
-   [CustomerProperties](#customerproperties)
    -   [Properties](#properties-1)
-   [Customer](#customer)
    -   [Parameters](#parameters-7)
    -   [update](#update)
        -   [Parameters](#parameters-8)
    -   [archive](#archive)
    -   [activate](#activate)
-   [ProjectProperties](#projectproperties)
    -   [Properties](#properties-2)
-   [Project](#project)
    -   [Parameters](#parameters-9)
    -   [update](#update-1)
        -   [Parameters](#parameters-10)
    -   [archive](#archive-1)
    -   [activate](#activate-1)

## KohoApiHelper

Instantiate KohoApiHelper

### Parameters

-   `options` **[KohoApiHelperOptions](#kohoapihelperoptions)** 

### customers.getAll

Get all customers

Returns **([Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise) \| [Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Customer](#customer)>)** Array containing customers

### customers.getById

Get customer by id

#### Parameters

-   `customerId`  

Returns **([Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise) \| [Customer](#customer))** Customer

### customers.update

Update customer

#### Parameters

-   `customer` **[Customer](#customer)** 

Returns **([Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise) | void)** 

### customers.create

Create customer

#### Parameters

-   `customer` **[CustomerProperties](#customerproperties)** Customer properties

Returns **([Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise) \| [Customer](#customer))** 

### projects.getAll

Get all projects

Returns **([Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise) \| [Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Project](#project)>)** Array containing projects

### projects.getById

Get project by id

#### Parameters

-   `projectId`  

Returns **([Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise) \| [Project](#project))** Project

### projects.update

Update project

#### Parameters

-   `project` **[Project](#project)** 

Returns **([Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise) | void)** 

### projects.create

Create project

#### Parameters

-   `project` **[ProjectProperties](#projectproperties)** Project properties
-   `templateId` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)?** Project template ID to link the project to

Returns **([Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise) \| [Project](#project))** 

## KohoApiHelperOptions

Options for Koho Api Helper

Type: [Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)

### Properties

-   `token` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Company API Token in Koho Sales
-   `companyId` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Company ID in Koho Sales
-   `endpoints` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** API endpoints to be used (for example override urls for development)
    -   `endpoints.customers` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Default: <https://suite-beta.koho-online.com/api/customers>
    -   `endpoints.projects` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Default: <https://suite-beta.koho-online.com/api/projects>

## CustomerProperties

Customer properties

Type: [Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)

### Properties

-   `id` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Customer ID
-   `name` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Customer name
-   `description` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Customer description
-   `number` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)?** Customer number
-   `code` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Customer code (external number)
-   `organization_id` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Organization ID / Business ID
-   `customer_category_id` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)?** Customer category ID
-   `archived` **[Boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)?** Is customer archived
-   `invoice_language` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Two-letter invoice language (FI, SE, EN)
-   `invoice_name` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Invoicing address name
-   `address` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Invoicing address
-   `address_extra` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Invoicing address second row (c/o)
-   `zip_code` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Invoicing address zip code
-   `city` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Invoicing city
-   `region` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Invoicing region
-   `country` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Customer two-letter country code
-   `delivery_name` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Invoicing address name
-   `delivery_address` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Invoicing address
-   `delivery_address_extra` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Invoicing address second row (c/o)
-   `delivery_zip_code` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Invoicing address zip code
-   `delivery_city` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Invoicing city
-   `delivery_region` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Invoicing region
-   `delivery_country` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Customer two-letter country code
-   `website` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Customer website
-   `phone` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Customer phone
-   `email` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Customer email
-   `created_at` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Customer created at (ISO 8601) [cannot be modified]
-   `updated_at` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Customer updated at (ISO 8601) [cannot be modified]
-   `archived_at` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Customer archived at (ISO 8601) [cannot be modified]
-   `ovt_identifier` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Customer OVT identifier
-   `electronic_invoicing_intermediary` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Invoicing intermediary (see: <https://verkkolaskuosoite.fi/>)
-   `web_invoice_address` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Customer e-invoice address
-   `default_invoice_delivery_method` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Invoicing delivery method (depends of active integrations)
-   `default_invoice_template_id` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Default invoice template id in Koho (PDF-invoice)
-   `accounting_software_delivery_method` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Accounting software delivery method (depends of active integrations)
-   `default_our_reference` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Our reference field (invoicing)
-   `default_your_reference` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Your reference field (invoicing)
-   `accounting_account_number` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Sales accounting account number [setter]
-   `accounting_target_number` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Cost center number 1 [setter]
-   `accounting_target_2_number` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Cost center number 2 [setter]
-   `accounting_target_3_number` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Cost center number 3 [setter]
-   `accounting_target_4_number` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Cost center number 4 [setter]
-   `accounting_target_id` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)?** Cost center ID 1
-   `accounting_target_2_id` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)?** Cost center ID 2
-   `accounting_target_3_id` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)?** Cost center ID 3
-   `accounting_target_4_id` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)?** Cost center ID 4
-   `set_category_by_name` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Set customer category by category name [setter]
-   `custom_parameters` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Company specific custom parameters. Please consult Koho customer service
-   `persons` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)>?** Customer contact persons
-   `employees` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)>?** Customer responsible employees
-   `_` **any?** Other properties. Please consult Koho customer service

## Customer

Customer instance

### Parameters

-   `properties` **[CustomerProperties](#customerproperties)** Any customer properties to instantiate Class with
-   `helper` **[KohoApiHelper](#kohoapihelper)** KohoApiHelper instance

### update

Update customer

#### Parameters

-   `updatedProperties` **[CustomerProperties](#customerproperties)** Updated properties

Returns **([Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise) | void)** 

### archive

Archive customer

Returns **([Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise) | void)** 

### activate

Activate customer

Returns **([Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise) | void)** 

## ProjectProperties

Project properties

Type: [Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)

### Properties

-   `id` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Project ID
-   `name` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Project name
-   `start_date` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Start date (YYYY-MM-DD)
-   `end_date` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** End date (YYYY-MM-DD)
-   `customer_id` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Customer ID
-   `active` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)?** Status
-   `description` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Project description
-   `_` **any?** Other properties. Please consult Koho customer service

## Project

Project instance

### Parameters

-   `properties` **[ProjectProperties](#projectproperties)** Any project properties to instantiate Class with
-   `helper` **[KohoApiHelper](#kohoapihelper)** KohoApiHelper instance

### update

Update project

#### Parameters

-   `updatedProperties` **[ProjectProperties](#projectproperties)** Updated properties

Returns **([Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise) | void)** 

### archive

Archive project

Returns **([Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise) | void)** 

### activate

Activate project

Returns **([Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise) | void)** 
